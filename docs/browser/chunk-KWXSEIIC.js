import{a as W,b as q,c as B}from"./chunk-Y2BGE2T2.js";import"./chunk-LYBGKYJY.js";import{a as j,b as k,e as O,g as P}from"./chunk-HYMXANHI.js";import{$a as p,Aa as v,Bb as c,Ea as m,Ia as _,Oa as l,Q as y,Ra as s,Sa as a,Ta as b,Ua as I,Va as F,_a as o,ab as d,bb as T,cb as M,db as E,eb as w,ka as h,pb as x,qb as D,ua as C,wa as n,yb as G,zb as N}from"./chunk-TIIQ4DSX.js";var u=class i{issue;truncateText=q;formatDate=W;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=m({type:i,selectors:[["app-issue-card"]],inputs:{issue:"issue"},decls:13,vars:7,consts:[[1,"p-4","transition","bg-white","border","rounded","hover:shadow-sm"],[1,"flex","justify-between"],["target","_blank",1,"font-medium","text-blue-700","hover:underline",3,"href"],[1,"mt-1","text-sm","text-gray-500"],[1,"text-xs","text-gray-500","uppercase"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-3","text-xs","text-gray-500"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),o(4),a(),s(5,"div",3),o(6),a()(),s(7,"span",4),o(8),a()(),s(9,"p",5),o(10),a(),s(11,"div",6),o(12),a()()),t&2&&(n(3),l("href",e.issue.html_url,C),n(),d(" ",e.issue.title," "),n(2),d(" Repo: ",e.issue.repository_url.split("/").slice(-2).join("/")," "),n(2),p(e.issue.state),n(2),d(" ",e.truncateText(e.issue.body,180)," "),n(2),T(" Opened by ",e.issue.user.login," \xB7 ",e.formatDate(e.issue.created_at)," "))},dependencies:[c],encapsulation:2})};var f=class i{_searchTerm=h("");_searchContext=h("user");searchTerm=x(()=>this._searchTerm());searchContext=x(()=>this._searchContext());updateSearch(r,t){this._searchTerm.set(r.trim()),this._searchContext.set(t)}clear(){this._searchTerm.set("")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})};function R(i,r){i&1&&(s(0,"div",9),o(1,"Searching GitHub..."),a())}function U(i,r){if(i&1&&b(0,"app-issue-card",10),i&2){let t=r.$implicit;l("issue",t)}}function V(i,r){i&1&&(s(0,"div",9),o(1," No results yet. Try searching. "),a())}function J(i,r){if(i&1&&(s(0,"div",11),o(1),a()),i&2){let t=F();n(),p(t.error)}}var A=class i{constructor(r,t){this.gh=r;this.searchSignal=t;D(()=>{let e=this.searchSignal.searchTerm();this.searchSignal.searchContext()==="issue"&&e&&(this.language=e,this.search())})}language="";issues=[];loading=!1;error="";search(){let r=this.language.trim()||"";this.loading=!0,this.error="",this.issues=[],this.gh.getGoodFirstIssues(r).subscribe({next:t=>{this.issues=t,this.loading=!1},error:t=>{this.error=t.status===422?'Invalid search query \u2014 try a simpler term (e.g., "javascript").':"Search failed (rate-limited or offline)",this.loading=!1}})}static \u0275fac=function(t){return new(t||i)(v(B),v(f))};static \u0275cmp=m({type:i,selectors:[["app-starter-finder"]],decls:12,vars:5,consts:[[1,"max-w-4xl","mx-auto"],[1,"mb-4"],[1,"block","text-sm","text-gray-600"],[1,"flex","gap-2","mt-2"],["placeholder","e.g. javascript",1,"flex-1","px-3","py-2","border","rounded",3,"ngModelChange","ngModel"],[1,"px-4","py-2","text-white","bg-green-600","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[3,"issue",4,"ngFor","ngForOf"],["class","mt-4 text-red-500",4,"ngIf"],[1,"text-sm","text-gray-500"],[3,"issue"],[1,"mt-4","text-red-500"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1)(2,"label",2),o(3,"Filter by language (optional)"),a(),s(4,"div",3)(5,"input",4),w("ngModelChange",function(g){return E(e.language,g)||(e.language=g),g}),a(),s(6,"button",5),I("click",function(){return e.search()}),o(7," Search "),a()()(),_(8,R,2,0,"div",6)(9,U,1,1,"app-issue-card",7)(10,V,2,0,"div",6)(11,J,2,1,"div",8),a()),t&2&&(n(5),M("ngModel",e.language),n(3),l("ngIf",e.loading),n(),l("ngForOf",e.issues),n(),l("ngIf",!(e.issues!=null&&e.issues.length)&&!e.loading),n(),l("ngIf",e.error))},dependencies:[c,G,N,P,j,k,O,u],encapsulation:2})};export{A as StarterFinderComponent};
