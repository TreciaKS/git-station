<div class="max-w-4xl mx-auto">
  <div class="mb-4">
    <label class="block text-sm text-gray-600">GitHub username</label>
    <div class="flex gap-2 mt-2">
      <input
        [(ngModel)]="username"
        (keyup.enter)="loadUser()"
        class="flex-1 px-3 py-2 border rounded"
        placeholder="e.g. torvalds"
      />
      <button
        (click)="loadUser()"
        class="px-4 py-2 text-white bg-blue-600 rounded"
      >
        Search
      </button>
    </div>
  </div>

  <app-loader *ngIf="loading"></app-loader>

  <section *ngIf="user && !loading" class="p-6 bg-white rounded shadow">
    <div class="flex items-start gap-4">
      <img [src]="user.avatar_url" class="w-20 h-20 rounded" alt="avatar" />
      <div>
        <h2 class="text-xl font-semibold">{{ user.name || user.login }}</h2>
        <p class="text-sm text-gray-600">{{ user.bio }}</p>
        <div class="mt-2 text-sm text-gray-500">
          <span class="mr-4">Repos: {{ user.public_repos }}</span>
          <span class="mr-4">Followers: {{ user.followers }}</span>
          <span>Following: {{ user.following }}</span>
        </div>
        <a
          [href]="user.html_url"
          target="_blank"
          class="inline-block mt-2 text-sm text-blue-600"
          >View on GitHub</a
        >
      </div>
    </div>
  </section>

  <div *ngIf="repos.length && !loading" class="mt-6 space-y-2">
    <app-repo-card *ngFor="let repo of repos" [repo]="repo"></app-repo-card>
  </div>

  <app-not-found
    *ngIf="emptySearch"
    message="Enter a GitHub username"
    suggestion="Type a name to explore their profile and repos."
    animationUrl="https://lottie.host/0cbdb3ef-2fa5-4d1d-9e4e-f66c879e010d/D0bRr9d93F.lottie"
  >
  </app-not-found>

  <app-not-found
    *ngIf="notFound"
    message="User not found"
    suggestion="Double-check the username or try another."
    animationUrl="https://assets4.lottiefiles.com/packages/lf20_qp1q7mct.json"
  >
  </app-not-found>
</div>
